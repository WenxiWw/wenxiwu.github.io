<h1 id="how-to-make-a-master-joint-both-revolute-and-prismatic-in-urdf-file">How to make a master joint (both revolute and prismatic) in URDF file</h1>
<p>This is a tutorial for specifying a joint that is both prismatic and revolute in URDF file.</p>
<p>URDF does not provide specification for a joint that is both revolute and pismatic. Two joints cannot connect directly. Therefore, we need to make a revolute joint and a prismatic joint connected by a dummy link. </p>
<p>revolute joint -- dummy link -- prismatic joint</p>
<h1 id="example-code">Example code</h1>
<p>Code of an example joint in URDF file</p>
<p>Revolute joint:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">joint</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"upperarm_roll_joint"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"revolute"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">origin</span> <span class="hljs-attr">rpy</span>=<span class="hljs-string">"0 0 0"</span> <span class="hljs-attr">xyz</span>=<span class="hljs-string">"0.219 0 0"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">parent</span> <span class="hljs-attr">link</span>=<span class="hljs-string">"shoulder_lift_link"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">child</span> <span class="hljs-attr">link</span>=<span class="hljs-string">"dummy_link"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">axis</span> <span class="hljs-attr">xyz</span>=<span class="hljs-string">"1 0 0"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dynamics</span> <span class="hljs-attr">damping</span>=<span class="hljs-string">"5.0"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">limit</span> <span class="hljs-attr">effort</span>=<span class="hljs-string">"66.18"</span> <span class="hljs-attr">lower</span>=<span class="hljs-string">"-2.251"</span> <span class="hljs-attr">upper</span>=<span class="hljs-string">"2.251"</span> <span class="hljs-attr">velocity</span>=<span class="hljs-string">"1.521"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">joint</span>&gt;</span>
</code></pre>
<p>Dummy link:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dummy_link"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">link</span>&gt;</span>
</code></pre>
<p>Prismatic joint:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">joint</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"upperarm_prismatic_joint"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"prismatic"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">origin</span> <span class="hljs-attr">rpy</span>=<span class="hljs-string">"0 0 0"</span> <span class="hljs-attr">xyz</span>=<span class="hljs-string">"0 0 0"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">parent</span> <span class="hljs-attr">link</span>=<span class="hljs-string">"dummy_link"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">child</span> <span class="hljs-attr">link</span>=<span class="hljs-string">"upperarm_roll_link"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">axis</span> <span class="hljs-attr">xyz</span>=<span class="hljs-string">"1 0 0"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">limit</span> <span class="hljs-attr">effort</span>=<span class="hljs-string">"60"</span> <span class="hljs-attr">lower</span>=<span class="hljs-string">"0.0"</span> <span class="hljs-attr">upper</span>=<span class="hljs-string">"0.20"</span> <span class="hljs-attr">velocity</span>=<span class="hljs-string">"0.05"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dynamics</span> <span class="hljs-attr">damping</span>=<span class="hljs-string">"100.0"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">joint</span>&gt;</span>
</code></pre>
<p><img src="/images/master_joint_urdf.png" alt="Visualization of the joint-link connection"></p>
<h1 id="visualization">Visualization</h1>
<p>To generate the tree in pdf file:</p>
<pre><code class="lang-xml">sudo apt-<span class="hljs-keyword">get</span> install liburdfdom-tools
<br>urdf_to_graphiz robot.urdf
</code></pre>
<p>To visualize the urdf in RVIZ: </p>
<pre><code class="lang-xml">roslaunch urdf_tutorial <span class="hljs-keyword">display</span>.launch <span class="hljs-keyword">mode</span><span class="hljs-variable">l:</span>=PATH_TO_URDF
</code></pre>
<h1 id="useful-links-">Useful links:</h1>
<p><a href="http://wiki.ros.org/urdf/XML/joint">http://wiki.ros.org/urdf/XML/joint</a></p>
<p><a href="https://articulatedrobotics.xyz/tutorials/ready-for-ros/urdf/">https://articulatedrobotics.xyz/tutorials/ready-for-ros/urdf/</a></p>
